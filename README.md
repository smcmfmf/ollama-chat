# π’¬ Ollama Flask μ¤νΈλ¦¬λ° μ±—λ΄‡ μΈν„°νμ΄μ¤
μ΄ ν”„λ΅μ νΈλ” λ΅μ»¬ LLM(λ€κ·λ¨ μ–Έμ–΄ λ¨λΈ) μ‹¤ν–‰ λ„κµ¬μΈ Ollamaμ™€ μ—°λ™ν•μ—¬, μ›Ή λΈλΌμ°μ €μ—μ„ μ‹¤μ‹κ°„μΌλ΅ λ€ν™”ν• AIμ™€ μ±„ν…ν•  μ μλ„λ΅ μ¤νΈλ¦¬λ°μ„ μ§€μ›ν•λ” κ°„λ‹¨ν• Flask λ°±μ—”λ“ μ„λ²„μ…λ‹λ‹¤.

# π“‹ ν”„λ΅μ νΈ κ°μ”
```
λ¨λΈ: Ollamaμ—μ„ μ‹¤ν–‰ μ¤‘μΈ gemma3:4b
λ°±μ—”λ“ : Flask
ν•µμ‹¬ κΈ°λ¥:
    1. /api/chat [POST]: μ›Ή ν”„λ΅ νΈμ—”λ“λ΅λ¶€ν„° μ±„ν… λ©”μ‹μ§€(model, messages)λ¥Ό JSONμΌλ΅ λ°›μµλ‹λ‹¤.
    2. Ollama ν”„λ΅μ‹: λ°›μ€ μ”μ²­μ„ Ollamaμ /api/chat μ—”λ“ν¬μΈνΈ(http://host.docker.internal:11434)λ΅ μ „λ‹¬ν•©λ‹λ‹¤.
    3. μ¤νΈλ¦¬λ° μ‘λ‹µ: Ollamaλ΅λ¶€ν„° λ°›μ€ μ‘λ‹µ(JSON Lines)μ„ ν΄λΌμ΄μ–ΈνΈ(μ›Ή λΈλΌμ°μ €)λ΅ μ¦‰μ‹ μ¤νΈλ¦¬λ°ν•μ—¬, μ±—λ΄‡μ΄ μ‹¤μ‹κ°„μΌλ΅ λ‹µλ³€μ„ μƒμ„±ν•λ” κ²ƒμ²λΌ λ³΄μ΄κ² ν•©λ‹λ‹¤.
    4. μ›Ή UI μ κ³µ: / λ° /2 κ²½λ΅λ¥Ό ν†µν•΄ μ±„ν… μΈν„°νμ΄μ¤ HTML(index2.html, index3.html)μ„ μ κ³µν•©λ‹λ‹¤.
```

# π§° κΈ°μ  μ¤νƒ
```
Backend: Python, Flask
API ν†µμ‹ : requests (Ollama μ„λΉ„μ¤μ™€ ν†µμ‹ )
μ¤νΈλ¦¬λ°: Flaskμ stream_with_context, Response κ°μ²΄
Frontend: HTML (templates/index2.html, templates/index3.html)
μμ΅΄μ„±: λ΅μ»¬μ—μ„ μ‹¤ν–‰ μ¤‘μΈ Ollama model (ex. gemma3:4b, GPT5)
```

# π“ λ ν¬μ§€ν† λ¦¬ κµ¬μ΅°
```
.
β”β”€β”€ app.py              # Flask μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ νμΌ
β”β”€β”€ templates/
β”‚   β”β”€β”€ index2.html     # (κ²½λ΅ '/') λ©”μΈ μ±„ν… UI ν…ν”λ¦Ώ
β”‚   β””β”€β”€ index3.html     # (κ²½λ΅ '/2') λ‘ λ²μ§Έ μ±„ν… UI ν…ν”λ¦Ώ
β””β”€β”€ README.md           # ν”„λ΅μ νΈ μ”μ•½
```

# π› οΈ μ„¤μΉ λ° μ‚¬μ „ μ¤€λΉ„
## 1. (ν•„μ) Ollama μ„¤μΉ λ° λ¨λΈ λ‹¤μ΄λ΅λ“
```
1. Ollama κ³µμ‹ μ›Ήμ‚¬μ΄νΈμ—μ„ Ollamaλ¥Ό λ‹¤μ΄λ΅λ“ν•κ³  μ„¤μΉν•©λ‹λ‹¤.

2. ν„°λ―Έλ„μ„ μ—΄κ³  ollamaλ¥Ό μ‹¤ν–‰ν•μ—¬ Ollama μ„λΉ„μ¤λ¥Ό λ°±κ·ΈλΌμ΄λ“μ—μ„ μ‹¤ν–‰ν•©λ‹λ‹¤.

3. app.pyμ κΈ°λ³Έ λ¨λΈμΈ gemma3:4b (λλ” μ›ν•λ” λ‹¤λ¥Έ λ¨λΈ)λ¥Ό λ‹¤μ΄λ΅λ“ν•©λ‹λ‹¤.

Bash

ollama pull gemma3:4b
ollama run gemma3:4b
```

## 2. ν”„λ΅μ νΈ μ„¤μΉ
```

Bash

git clone [https://github.com/smcmfmf/ollama-chat.git]
cd ollama-chat

μμ΅΄μ„± ν¨ν‚¤μ§€ μ„¤μΉ: (μ΄ ν”„λ΅μ νΈμ ν•„μ ν¨ν‚¤μ§€μ…λ‹λ‹¤.)

Bash

pip install flask requests
```
# π€ μ‚¬μ© λ°©λ²•
## 1λ‹¨κ³„: Ollama (gemma3:4b) μ‹¤ν–‰ μ—¬λ¶€ ν™•μΈ
```
app.pyλ” OLLAMA_CHAT_URL = "http://host.docker.internal:11434/api/chat"λ΅ μ„¤μ •λμ–΄ μμµλ‹λ‹¤.

  1-1 ollama ps (ν„μ¬ ollamaμ—μ„ λ¨λΈμ΄ μ‹¤ν–‰λκ³  μλ”μ§€ ν™•μΈν•λ” λ…λ Ήμ–΄)

# app.py

OLLAMA_URL = "http://localhost:11434/api/generate"
OLLAMA_CHAT_URL = "http://localhost:11434/api/chat"
```

## 2λ‹¨κ³„: Flask μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰
```
1. app.pyλ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.

Bash

python app.py
μ„λ²„κ°€ μ‹¤ν–‰λλ©΄ ν„°λ―Έλ„μ— λ‹¤μκ³Ό κ°™μ€ λ©”μ‹μ§€κ°€ λ‚νƒ€λ‚©λ‹λ‹¤.

 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
```

## 3λ‹¨κ³„: μ±„ν…ν•κΈ°
```
1. μ›Ή λΈλΌμ°μ €λ¥Ό μ—΄κ³  http://127.0.0.1:5000/ μ΄λ‚ localhost:5000/ (index2.html ν…ν”λ¦Ώ) λλ” http://127.0.0.1:5000/2 μ΄λ‚ localhost:5000/2 (index3.html ν…ν”λ¦Ώ) μ£Όμ†λ΅ μ΄λ™ν•©λ‹λ‹¤.

2. μ›Ήνμ΄μ§€μ μ±„ν…μ°½μ— λ©”μ‹μ§€λ¥Ό μ…λ ¥ν•κ³  μ „μ†΅ν•©λ‹λ‹¤.

Ollama λ¨λΈμ΄ μƒμ„±ν•λ” λ‹µλ³€μ΄ μ‹¤μ‹κ°„ μ¤νΈλ¦¬λ°μΌλ΅ ν™”λ©΄μ— ν‘μ‹λλ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
```
